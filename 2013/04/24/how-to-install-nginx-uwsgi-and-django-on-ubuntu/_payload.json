[{"data":1,"prerenderedAt":412},["ShallowReactive",2],{"/2013/04/24/how-to-install-nginx-uwsgi-and-django-on-ubuntu":3},{"id":4,"title":5,"body":6,"date":399,"description":400,"extension":401,"image":402,"meta":403,"navigation":173,"path":404,"seo":405,"stem":407,"tags":408},"blog/2013/04/24/how-to-install-nginx-uwsgi-and-django-on-ubuntu.md","How to install and configure Nginx, uWSGI and Django on Ubuntu?",{"type":7,"value":8,"toc":397},"minimal",[9,27,30,33,50,53,69,72,81,90,99,102,111,123,132,135,249,257,263,272,282,291,294,354,357,366,378,393],[10,11,12,13,20,21,26],"p",{},"As a Python and Django developer, one of best and fastest ways to deploy my\nWeb aplications is the combination of the ",[14,15,19],"a",{"href":16,"rel":17},"http://nginx.org/",[18],"nofollow","Nginx",", the\nhigh-performance Web server, and ",[14,22,25],{"href":23,"rel":24},"http://projects.unbit.it/uwsgi/",[18],"uWSGI",".",[10,28,29],{},"In this tutorial, I'll show you how to install and configure Nginx, uWSGI,\nVirtualENV and Django on Ubuntu.",[10,31,32],{},"To install all required applications, open a Terminal and run the following\ncommand:",[34,35,40],"pre",{"className":36,"code":37,"language":38,"meta":39,"style":39},"language-shell shiki shiki-themes github-light github-dark monokai","sudo apt-get install nginx uwsgi uwsgi-plugin-python python-virtualenv\n","shell","",[41,42,43],"code",{"__ignoreMap":39},[44,45,48],"span",{"class":46,"line":47},"line",1,[44,49,37],{},[10,51,52],{},"After that, go to your projects directory and create Virtual Python\nEnvironment, for example:",[34,54,56],{"className":36,"code":55,"language":38,"meta":39,"style":39},"cd ~/projects\nvirtualenv venv\n",[41,57,58,63],{"__ignoreMap":39},[44,59,60],{"class":46,"line":47},[44,61,62],{},"cd ~/projects\n",[44,64,66],{"class":46,"line":65},2,[44,67,68],{},"virtualenv venv\n",[10,70,71],{},"Activate it with a command:",[34,73,75],{"className":36,"code":74,"language":38,"meta":39,"style":39},"source venv/bin/activate\n",[41,76,77],{"__ignoreMap":39},[44,78,79],{"class":46,"line":47},[44,80,74],{},[10,82,83,84,89],{},"To install Django, you can use ",[14,85,88],{"href":86,"rel":87},"http://www.pip-installer.org/en/latest/",[18],"pip","\nor easy_install tool, I more prefer pip:",[34,91,93],{"className":36,"code":92,"language":38,"meta":39,"style":39},"pip install django\n",[41,94,95],{"__ignoreMap":39},[44,96,97],{"class":46,"line":47},[44,98,92],{},[10,100,101],{},"Create a new Django project:",[34,103,105],{"className":36,"code":104,"language":38,"meta":39,"style":39},"django-admin.py startproject mysite\n",[41,106,107],{"__ignoreMap":39},[44,108,109],{"class":46,"line":47},[44,110,104],{},[10,112,113,114,118,119,122],{},"Now, in ",[115,116,117],"strong",{},"/etc/nginx/sites-available"," directory, create a new file called\n",[115,120,121],{},"mysite.com",":",[34,124,126],{"className":36,"code":125,"language":38,"meta":39,"style":39},"sudo nano /etc/nginx/sites-available/mysite.com\n",[41,127,128],{"__ignoreMap":39},[44,129,130],{"class":46,"line":47},[44,131,125],{},[10,133,134],{},"And enter the following code in it:",[34,136,138],{"className":36,"code":137,"language":38,"meta":39,"style":39},"server {\n  listen  80;\n  server_name mysite.com www.mysite.com;\n  access_log /var/log/nginx/mysite.com_access.log;\n  error_log /var/log/nginx/mysite.com_error.log;\n\n  location / {\n    uwsgi_pass  unix:///tmp/mysite.com.sock;\n    include     uwsgi_params;\n  }\n\n  location /media/  {\n    alias /home/USER/projects/mysite/media/;\n  }\n\n  location  /static/ {\n    alias  /home/USER/projects/mysite/static/;\n  }\n}\n",[41,139,140,145,150,156,162,168,175,181,187,193,199,204,210,216,221,226,232,238,243],{"__ignoreMap":39},[44,141,142],{"class":46,"line":47},[44,143,144],{},"server {\n",[44,146,147],{"class":46,"line":65},[44,148,149],{},"  listen  80;\n",[44,151,153],{"class":46,"line":152},3,[44,154,155],{},"  server_name mysite.com www.mysite.com;\n",[44,157,159],{"class":46,"line":158},4,[44,160,161],{},"  access_log /var/log/nginx/mysite.com_access.log;\n",[44,163,165],{"class":46,"line":164},5,[44,166,167],{},"  error_log /var/log/nginx/mysite.com_error.log;\n",[44,169,171],{"class":46,"line":170},6,[44,172,174],{"emptyLinePlaceholder":173},true,"\n",[44,176,178],{"class":46,"line":177},7,[44,179,180],{},"  location / {\n",[44,182,184],{"class":46,"line":183},8,[44,185,186],{},"    uwsgi_pass  unix:///tmp/mysite.com.sock;\n",[44,188,190],{"class":46,"line":189},9,[44,191,192],{},"    include     uwsgi_params;\n",[44,194,196],{"class":46,"line":195},10,[44,197,198],{},"  }\n",[44,200,202],{"class":46,"line":201},11,[44,203,174],{"emptyLinePlaceholder":173},[44,205,207],{"class":46,"line":206},12,[44,208,209],{},"  location /media/  {\n",[44,211,213],{"class":46,"line":212},13,[44,214,215],{},"    alias /home/USER/projects/mysite/media/;\n",[44,217,219],{"class":46,"line":218},14,[44,220,198],{},[44,222,224],{"class":46,"line":223},15,[44,225,174],{"emptyLinePlaceholder":173},[44,227,229],{"class":46,"line":228},16,[44,230,231],{},"  location  /static/ {\n",[44,233,235],{"class":46,"line":234},17,[44,236,237],{},"    alias  /home/USER/projects/mysite/static/;\n",[44,239,241],{"class":46,"line":240},18,[44,242,198],{},[44,244,246],{"class":46,"line":245},19,[44,247,248],{},"}\n",[10,250,251,252,26],{},"This is some basic Nginx configuration. For more, look at the\n",[14,253,256],{"href":254,"rel":255},"http://nginx.org/en/docs/",[18],"Nginx documentation",[10,258,259,260,122],{},"To activate it, you need to create a symbolic link for a file in\n",[115,261,262],{},"/etc/nginx/sites-enabled/",[34,264,266],{"className":36,"code":265,"language":38,"meta":39,"style":39},"sudo ln -s /etc/nginx/sites-available/mysite.com /etc/nginx/sites-enabled/\n",[41,267,268],{"__ignoreMap":39},[44,269,270],{"class":46,"line":47},[44,271,265],{},[10,273,274,275,278,279,122],{},"Configuration files for uWSGI are stored in ",[115,276,277],{},"/etc/uwsgi/apps-available",".\nIn this directory create a new file called ",[115,280,281],{},"mysite.com.ini",[34,283,285],{"className":36,"code":284,"language":38,"meta":39,"style":39},"sudo nano /etc/uwsgi/apps-available/mysite.com.ini\n",[41,286,287],{"__ignoreMap":39},[44,288,289],{"class":46,"line":47},[44,290,284],{},[10,292,293],{},"And enter the following code:",[34,295,297],{"className":36,"code":296,"language":38,"meta":39,"style":39},"[uwsgi]\nvhost = true\nplugins = python\nsocket = /tmp/mysite.com.sock\nmaster = true\nenable-threads = true\nprocesses = 2\nwsgi-file = /home/USER/projects/mysite/mysite/wsgi.py\nvirtualenv = /home/USER/projects/venv\nchdir = /home/USER/projects/mysite\ntouch-reload = /home/USER/projects/mysite/reload\n",[41,298,299,304,309,314,319,324,329,334,339,344,349],{"__ignoreMap":39},[44,300,301],{"class":46,"line":47},[44,302,303],{},"[uwsgi]\n",[44,305,306],{"class":46,"line":65},[44,307,308],{},"vhost = true\n",[44,310,311],{"class":46,"line":152},[44,312,313],{},"plugins = python\n",[44,315,316],{"class":46,"line":158},[44,317,318],{},"socket = /tmp/mysite.com.sock\n",[44,320,321],{"class":46,"line":164},[44,322,323],{},"master = true\n",[44,325,326],{"class":46,"line":170},[44,327,328],{},"enable-threads = true\n",[44,330,331],{"class":46,"line":177},[44,332,333],{},"processes = 2\n",[44,335,336],{"class":46,"line":183},[44,337,338],{},"wsgi-file = /home/USER/projects/mysite/mysite/wsgi.py\n",[44,340,341],{"class":46,"line":189},[44,342,343],{},"virtualenv = /home/USER/projects/venv\n",[44,345,346],{"class":46,"line":195},[44,347,348],{},"chdir = /home/USER/projects/mysite\n",[44,350,351],{"class":46,"line":201},[44,352,353],{},"touch-reload = /home/USER/projects/mysite/reload\n",[10,355,356],{},"Enable it:",[34,358,360],{"className":36,"code":359,"language":38,"meta":39,"style":39},"sudo ln-s /etc/uwsgi/apps-available/mysite.com.ini /etc/uwsgi/apps-enabled/\n",[41,361,362],{"__ignoreMap":39},[44,363,364],{"class":46,"line":47},[44,365,359],{},[10,367,368,369,373,374,377],{},"And on the end, restart the ",[370,371,372],"em",{},"nginx"," and ",[370,375,376],{},"uwsgi"," services:",[34,379,381],{"className":36,"code":380,"language":38,"meta":39,"style":39},"sudo service nginx restart\nsudo service uwsgi restart\n",[41,382,383,388],{"__ignoreMap":39},[44,384,385],{"class":46,"line":47},[44,386,387],{},"sudo service nginx restart\n",[44,389,390],{"class":46,"line":65},[44,391,392],{},"sudo service uwsgi restart\n",[394,395,396],"style",{},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":39,"searchDepth":65,"depth":65,"links":398},[],"2013-04-24T00:00:00.000Z","As a Python and Django developer, one of best and fastest ways to deploy my\\nWeb aplications is the combination of the Nginx, the\\nhigh-performance Web server, and uWSGI.","md",null,{},"/2013/04/24/how-to-install-nginx-uwsgi-and-django-on-ubuntu",{"title":5,"description":406},"As a Python and Django developer, one of best and fastest ways to deploy my\nWeb aplications is the combination of the Nginx, the\nhigh-performance Web server, and uWSGI.","2013/04/24/how-to-install-nginx-uwsgi-and-django-on-ubuntu",[409,19,25,410,411],"Django","Ubuntu","Linux",1738313213775]