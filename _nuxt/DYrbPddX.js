import{_ as rt}from"./BhWqokGs.js";import{_ as ct,r as L,Q as _t,o as S,c as x,a as p,b as O,w as V,p as b,A as $,v as at,S as pt,x as wt,z as P,aq as vt,R as Z,F as X,D as bt,d as A,t as tt,ar as et,H as yt,q as St,U as xt}from"./B-YT2MGI.js";import{u as kt,a as zt}from"./DuyArxvO.js";function E(i,t,e,s){function n(o){return o instanceof e?o:new e(function(r){r(o)})}return new(e||(e=Promise))(function(o,r){function c(a){try{d(s.next(a))}catch(h){r(h)}}function u(a){try{d(s.throw(a))}catch(h){r(h)}}function d(a){a.done?o(a.value):n(a.value).then(c,u)}d((s=s.apply(i,[])).next())})}const It="ENTRIES",dt="KEYS",ut="VALUES",w="";class W{constructor(t,e){const s=t._tree,n=Array.from(s.keys());this.set=t,this._type=e,this._path=n.length>0?[{node:s,keys:n}]:[]}next(){const t=this.dive();return this.backtrack(),t}dive(){if(this._path.length===0)return{done:!0,value:void 0};const{node:t,keys:e}=I(this._path);if(I(e)===w)return{done:!1,value:this.result()};const s=t.get(I(e));return this._path.push({node:s,keys:Array.from(s.keys())}),this.dive()}backtrack(){if(this._path.length===0)return;const t=I(this._path).keys;t.pop(),!(t.length>0)&&(this._path.pop(),this.backtrack())}key(){return this.set._prefix+this._path.map(({keys:t})=>I(t)).filter(t=>t!==w).join("")}value(){return I(this._path).node.get(w)}result(){switch(this._type){case ut:return this.value();case dt:return this.key();default:return[this.key(),this.value()]}}[Symbol.iterator](){return this}}const I=i=>i[i.length-1],Ot=(i,t,e)=>{const s=new Map;if(t===void 0)return s;const n=t.length+1,o=n+e,r=new Uint8Array(o*n).fill(e+1);for(let c=0;c<n;++c)r[c]=c;for(let c=1;c<o;++c)r[c*n]=c;return lt(i,t,e,s,r,1,n,""),s},lt=(i,t,e,s,n,o,r,c)=>{const u=o*r;t:for(const d of i.keys())if(d===w){const a=n[u-1];a<=e&&s.set(c,[i.get(d),a])}else{let a=o;for(let h=0;h<d.length;++h,++a){const l=d[h],f=r*a,g=f-r;let m=n[f];const _=Math.max(0,a-e-1),y=Math.min(r-1,a+e);for(let v=_;v<y;++v){const R=l!==t[v],N=n[g+v]+ +R,M=n[g+v+1]+1,z=n[f+v]+1,F=n[f+v+1]=Math.min(N,M,z);F<m&&(m=F)}if(m>e)continue t}lt(i.get(d),t,e,s,n,a,r,c+d)}};class k{constructor(t=new Map,e=""){this._size=void 0,this._tree=t,this._prefix=e}atPrefix(t){if(!t.startsWith(this._prefix))throw new Error("Mismatched prefix");const[e,s]=D(this._tree,t.slice(this._prefix.length));if(e===void 0){const[n,o]=H(s);for(const r of n.keys())if(r!==w&&r.startsWith(o)){const c=new Map;return c.set(r.slice(o.length),n.get(r)),new k(c,t)}}return new k(e,t)}clear(){this._size=void 0,this._tree.clear()}delete(t){return this._size=void 0,Ct(this._tree,t)}entries(){return new W(this,It)}forEach(t){for(const[e,s]of this)t(e,s,this)}fuzzyGet(t,e){return Ot(this._tree,t,e)}get(t){const e=G(this._tree,t);return e!==void 0?e.get(w):void 0}has(t){const e=G(this._tree,t);return e!==void 0&&e.has(w)}keys(){return new W(this,dt)}set(t,e){if(typeof t!="string")throw new Error("key must be a string");return this._size=void 0,B(this._tree,t).set(w,e),this}get size(){if(this._size)return this._size;this._size=0;const t=this.entries();for(;!t.next().done;)this._size+=1;return this._size}update(t,e){if(typeof t!="string")throw new Error("key must be a string");this._size=void 0;const s=B(this._tree,t);return s.set(w,e(s.get(w))),this}fetch(t,e){if(typeof t!="string")throw new Error("key must be a string");this._size=void 0;const s=B(this._tree,t);let n=s.get(w);return n===void 0&&s.set(w,n=e()),n}values(){return new W(this,ut)}[Symbol.iterator](){return this.entries()}static from(t){const e=new k;for(const[s,n]of t)e.set(s,n);return e}static fromObject(t){return k.from(Object.entries(t))}}const D=(i,t,e=[])=>{if(t.length===0||i==null)return[i,e];for(const s of i.keys())if(s!==w&&t.startsWith(s))return e.push([i,s]),D(i.get(s),t.slice(s.length),e);return e.push([i,t]),D(void 0,"",e)},G=(i,t)=>{if(t.length===0||i==null)return i;for(const e of i.keys())if(e!==w&&t.startsWith(e))return G(i.get(e),t.slice(e.length))},B=(i,t)=>{const e=t.length;t:for(let s=0;i&&s<e;){for(const o of i.keys())if(o!==w&&t[s]===o[0]){const r=Math.min(e-s,o.length);let c=1;for(;c<r&&t[s+c]===o[c];)++c;const u=i.get(o);if(c===o.length)i=u;else{const d=new Map;d.set(o.slice(c),u),i.set(t.slice(s,s+c),d),i.delete(o),i=d}s+=c;continue t}const n=new Map;return i.set(t.slice(s),n),n}return i},Ct=(i,t)=>{const[e,s]=D(i,t);if(e!==void 0){if(e.delete(w),e.size===0)ht(s);else if(e.size===1){const[n,o]=e.entries().next().value;ft(s,n,o)}}},ht=i=>{if(i.length===0)return;const[t,e]=H(i);if(t.delete(e),t.size===0)ht(i.slice(0,-1));else if(t.size===1){const[s,n]=t.entries().next().value;s!==w&&ft(i.slice(0,-1),s,n)}},ft=(i,t,e)=>{if(i.length===0)return;const[s,n]=H(i);s.set(n+t,e),s.delete(n)},H=i=>i[i.length-1],Y="or",mt="and",Ft="and_not";class C{constructor(t){if((t==null?void 0:t.fields)==null)throw new Error('MiniSearch: option "fields" must be provided');const e=t.autoVacuum==null||t.autoVacuum===!0?Q:t.autoVacuum;this._options=Object.assign(Object.assign(Object.assign({},U),t),{autoVacuum:e,searchOptions:Object.assign(Object.assign({},st),t.searchOptions||{}),autoSuggestOptions:Object.assign(Object.assign({},jt),t.autoSuggestOptions||{})}),this._index=new k,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=K,this.addFields(this._options.fields)}add(t){const{extractField:e,tokenize:s,processTerm:n,fields:o,idField:r}=this._options,c=e(t,r);if(c==null)throw new Error(`MiniSearch: document does not have ID field "${r}"`);if(this._idToShortId.has(c))throw new Error(`MiniSearch: duplicate ID ${c}`);const u=this.addDocumentId(c);this.saveStoredFields(u,t);for(const d of o){const a=e(t,d);if(a==null)continue;const h=s(a.toString(),d),l=this._fieldIds[d],f=new Set(h).size;this.addFieldLength(u,l,this._documentCount-1,f);for(const g of h){const m=n(g,d);if(Array.isArray(m))for(const _ of m)this.addTerm(l,u,_);else m&&this.addTerm(l,u,m)}}}addAll(t){for(const e of t)this.add(e)}addAllAsync(t,e={}){const{chunkSize:s=10}=e,n={chunk:[],promise:Promise.resolve()},{chunk:o,promise:r}=t.reduce(({chunk:c,promise:u},d,a)=>(c.push(d),(a+1)%s===0?{chunk:[],promise:u.then(()=>new Promise(h=>setTimeout(h,0))).then(()=>this.addAll(c))}:{chunk:c,promise:u}),n);return r.then(()=>this.addAll(o))}remove(t){const{tokenize:e,processTerm:s,extractField:n,fields:o,idField:r}=this._options,c=n(t,r);if(c==null)throw new Error(`MiniSearch: document does not have ID field "${r}"`);const u=this._idToShortId.get(c);if(u==null)throw new Error(`MiniSearch: cannot remove document with ID ${c}: it is not in the index`);for(const d of o){const a=n(t,d);if(a==null)continue;const h=e(a.toString(),d),l=this._fieldIds[d],f=new Set(h).size;this.removeFieldLength(u,l,this._documentCount,f);for(const g of h){const m=s(g,d);if(Array.isArray(m))for(const _ of m)this.removeTerm(l,u,_);else m&&this.removeTerm(l,u,m)}}this._storedFields.delete(u),this._documentIds.delete(u),this._idToShortId.delete(c),this._fieldLength.delete(u),this._documentCount-=1}removeAll(t){if(t)for(const e of t)this.remove(e);else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new k,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}}discard(t){const e=this._idToShortId.get(t);if(e==null)throw new Error(`MiniSearch: cannot discard document with ID ${t}: it is not in the index`);this._idToShortId.delete(t),this._documentIds.delete(e),this._storedFields.delete(e),(this._fieldLength.get(e)||[]).forEach((s,n)=>{this.removeFieldLength(e,n,this._documentCount,s)}),this._fieldLength.delete(e),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()}maybeAutoVacuum(){if(this._options.autoVacuum===!1)return;const{minDirtFactor:t,minDirtCount:e,batchSize:s,batchWait:n}=this._options.autoVacuum;this.conditionalVacuum({batchSize:s,batchWait:n},{minDirtCount:e,minDirtFactor:t})}discardAll(t){const e=this._options.autoVacuum;try{this._options.autoVacuum=!1;for(const s of t)this.discard(s)}finally{this._options.autoVacuum=e}this.maybeAutoVacuum()}replace(t){const{idField:e,extractField:s}=this._options,n=s(t,e);this.discard(n),this.add(t)}vacuum(t={}){return this.conditionalVacuum(t)}conditionalVacuum(t,e){return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&e,this._enqueuedVacuum!=null?this._enqueuedVacuum:(this._enqueuedVacuum=this._currentVacuum.then(()=>{const s=this._enqueuedVacuumConditions;return this._enqueuedVacuumConditions=K,this.performVacuuming(t,s)}),this._enqueuedVacuum)):this.vacuumConditionsMet(e)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(t),this._currentVacuum)}performVacuuming(t,e){return E(this,void 0,void 0,function*(){const s=this._dirtCount;if(this.vacuumConditionsMet(e)){const n=t.batchSize||q.batchSize,o=t.batchWait||q.batchWait;let r=1;for(const[c,u]of this._index){for(const[d,a]of u)for(const[h]of a)this._documentIds.has(h)||(a.size<=1?u.delete(d):a.delete(h));this._index.get(c).size===0&&this._index.delete(c),r%n===0&&(yield new Promise(d=>setTimeout(d,o))),r+=1}this._dirtCount-=s}yield null,this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null})}vacuumConditionsMet(t){if(t==null)return!0;let{minDirtCount:e,minDirtFactor:s}=t;return e=e||Q.minDirtCount,s=s||Q.minDirtFactor,this.dirtCount>=e&&this.dirtFactor>=s}get isVacuuming(){return this._currentVacuum!=null}get dirtCount(){return this._dirtCount}get dirtFactor(){return this._dirtCount/(1+this._documentCount+this._dirtCount)}has(t){return this._idToShortId.has(t)}getStoredFields(t){const e=this._idToShortId.get(t);if(e!=null)return this._storedFields.get(e)}search(t,e={}){const{searchOptions:s}=this._options,n=Object.assign(Object.assign({},s),e),o=this.executeQuery(t,e),r=[];for(const[c,{score:u,terms:d,match:a}]of o){const h=d.length||1,l={id:this._documentIds.get(c),score:u*h,terms:Object.keys(a),queryTerms:d,match:a};Object.assign(l,this._storedFields.get(c)),(n.filter==null||n.filter(l))&&r.push(l)}return t===C.wildcard&&n.boostDocument==null||r.sort(it),r}autoSuggest(t,e={}){e=Object.assign(Object.assign({},this._options.autoSuggestOptions),e);const s=new Map;for(const{score:o,terms:r}of this.search(t,e)){const c=r.join(" "),u=s.get(c);u!=null?(u.score+=o,u.count+=1):s.set(c,{score:o,terms:r,count:1})}const n=[];for(const[o,{score:r,terms:c,count:u}]of s)n.push({suggestion:o,terms:c,score:r/u});return n.sort(it),n}get documentCount(){return this._documentCount}get termCount(){return this._index.size}static loadJSON(t,e){if(e==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(t),e)}static loadJSONAsync(t,e){return E(this,void 0,void 0,function*(){if(e==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJSAsync(JSON.parse(t),e)})}static getDefault(t){if(U.hasOwnProperty(t))return J(U,t);throw new Error(`MiniSearch: unknown option "${t}"`)}static loadJS(t,e){const{index:s,documentIds:n,fieldLength:o,storedFields:r,serializationVersion:c}=t,u=this.instantiateMiniSearch(t,e);u._documentIds=T(n),u._fieldLength=T(o),u._storedFields=T(r);for(const[d,a]of u._documentIds)u._idToShortId.set(a,d);for(const[d,a]of s){const h=new Map;for(const l of Object.keys(a)){let f=a[l];c===1&&(f=f.ds),h.set(parseInt(l,10),T(f))}u._index.set(d,h)}return u}static loadJSAsync(t,e){return E(this,void 0,void 0,function*(){const{index:s,documentIds:n,fieldLength:o,storedFields:r,serializationVersion:c}=t,u=this.instantiateMiniSearch(t,e);u._documentIds=yield j(n),u._fieldLength=yield j(o),u._storedFields=yield j(r);for(const[a,h]of u._documentIds)u._idToShortId.set(h,a);let d=0;for(const[a,h]of s){const l=new Map;for(const f of Object.keys(h)){let g=h[f];c===1&&(g=g.ds),l.set(parseInt(f,10),yield j(g))}++d%1e3===0&&(yield gt(0)),u._index.set(a,l)}return u})}static instantiateMiniSearch(t,e){const{documentCount:s,nextId:n,fieldIds:o,averageFieldLength:r,dirtCount:c,serializationVersion:u}=t;if(u!==1&&u!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");const d=new C(e);return d._documentCount=s,d._nextId=n,d._idToShortId=new Map,d._fieldIds=o,d._avgFieldLength=r,d._dirtCount=c||0,d._index=new k,d}executeQuery(t,e={}){if(t===C.wildcard)return this.executeWildcardQuery(e);if(typeof t!="string"){const l=Object.assign(Object.assign(Object.assign({},e),t),{queries:void 0}),f=t.queries.map(g=>this.executeQuery(g,l));return this.combineResults(f,l.combineWith)}const{tokenize:s,processTerm:n,searchOptions:o}=this._options,r=Object.assign(Object.assign({tokenize:s,processTerm:n},o),e),{tokenize:c,processTerm:u}=r,h=c(t).flatMap(l=>u(l)).filter(l=>!!l).map(Tt(r)).map(l=>this.executeQuerySpec(l,r));return this.combineResults(h,r.combineWith)}executeQuerySpec(t,e){const s=Object.assign(Object.assign({},this._options.searchOptions),e),n=(s.fields||this._options.fields).reduce((m,_)=>Object.assign(Object.assign({},m),{[_]:J(s.boost,_)||1}),{}),{boostDocument:o,weights:r,maxFuzzy:c,bm25:u}=s,{fuzzy:d,prefix:a}=Object.assign(Object.assign({},st.weights),r),h=this._index.get(t.term),l=this.termResults(t.term,t.term,1,t.termBoost,h,n,o,u);let f,g;if(t.prefix&&(f=this._index.atPrefix(t.term)),t.fuzzy){const m=t.fuzzy===!0?.2:t.fuzzy,_=m<1?Math.min(c,Math.round(t.term.length*m)):m;_&&(g=this._index.fuzzyGet(t.term,_))}if(f)for(const[m,_]of f){const y=m.length-t.term.length;if(!y)continue;g==null||g.delete(m);const v=a*m.length/(m.length+.3*y);this.termResults(t.term,m,v,t.termBoost,_,n,o,u,l)}if(g)for(const m of g.keys()){const[_,y]=g.get(m);if(!y)continue;const v=d*m.length/(m.length+y);this.termResults(t.term,m,v,t.termBoost,_,n,o,u,l)}return l}executeWildcardQuery(t){const e=new Map,s=Object.assign(Object.assign({},this._options.searchOptions),t);for(const[n,o]of this._documentIds){const r=s.boostDocument?s.boostDocument(o,"",this._storedFields.get(n)):1;e.set(n,{score:r,terms:[],match:{}})}return e}combineResults(t,e=Y){if(t.length===0)return new Map;const s=e.toLowerCase(),n=Vt[s];if(!n)throw new Error(`Invalid combination operator: ${e}`);return t.reduce(n)||new Map}toJSON(){const t=[];for(const[e,s]of this._index){const n={};for(const[o,r]of s)n[o]=Object.fromEntries(r);t.push([e,n])}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:t,serializationVersion:2}}termResults(t,e,s,n,o,r,c,u,d=new Map){if(o==null)return d;for(const a of Object.keys(r)){const h=r[a],l=this._fieldIds[a],f=o.get(l);if(f==null)continue;let g=f.size;const m=this._avgFieldLength[l];for(const _ of f.keys()){if(!this._documentIds.has(_)){this.removeTerm(l,_,e),g-=1;continue}const y=c?c(this._documentIds.get(_),e,this._storedFields.get(_)):1;if(!y)continue;const v=f.get(_),R=this._fieldLength.get(_)[l],N=Lt(v,g,this._documentCount,R,m,u),M=s*n*h*y*N,z=d.get(_);if(z){z.score+=M,Et(z.terms,t);const F=J(z.match,e);F?F.push(a):z.match[e]=[a]}else d.set(_,{score:M,terms:[t],match:{[e]:[a]}})}}return d}addTerm(t,e,s){const n=this._index.fetch(s,ot);let o=n.get(t);if(o==null)o=new Map,o.set(e,1),n.set(t,o);else{const r=o.get(e);o.set(e,(r||0)+1)}}removeTerm(t,e,s){if(!this._index.has(s)){this.warnDocumentChanged(e,t,s);return}const n=this._index.fetch(s,ot),o=n.get(t);o==null||o.get(e)==null?this.warnDocumentChanged(e,t,s):o.get(e)<=1?o.size<=1?n.delete(t):o.delete(e):o.set(e,o.get(e)-1),this._index.get(s).size===0&&this._index.delete(s)}warnDocumentChanged(t,e,s){for(const n of Object.keys(this._fieldIds))if(this._fieldIds[n]===e){this._options.logger("warn",`MiniSearch: document with ID ${this._documentIds.get(t)} has changed before removal: term "${s}" was not present in field "${n}". Removing a document after it has changed can corrupt the index!`,"version_conflict");return}}addDocumentId(t){const e=this._nextId;return this._idToShortId.set(t,e),this._documentIds.set(e,t),this._documentCount+=1,this._nextId+=1,e}addFields(t){for(let e=0;e<t.length;e++)this._fieldIds[t[e]]=e}addFieldLength(t,e,s,n){let o=this._fieldLength.get(t);o==null&&this._fieldLength.set(t,o=[]),o[e]=n;const c=(this._avgFieldLength[e]||0)*s+n;this._avgFieldLength[e]=c/(s+1)}removeFieldLength(t,e,s,n){if(s===1){this._avgFieldLength[e]=0;return}const o=this._avgFieldLength[e]*s-n;this._avgFieldLength[e]=o/(s-1)}saveStoredFields(t,e){const{storeFields:s,extractField:n}=this._options;if(s==null||s.length===0)return;let o=this._storedFields.get(t);o==null&&this._storedFields.set(t,o={});for(const r of s){const c=n(e,r);c!==void 0&&(o[r]=c)}}}C.wildcard=Symbol("*");const J=(i,t)=>Object.prototype.hasOwnProperty.call(i,t)?i[t]:void 0,Vt={[Y]:(i,t)=>{for(const e of t.keys()){const s=i.get(e);if(s==null)i.set(e,t.get(e));else{const{score:n,terms:o,match:r}=t.get(e);s.score=s.score+n,s.match=Object.assign(s.match,r),nt(s.terms,o)}}return i},[mt]:(i,t)=>{const e=new Map;for(const s of t.keys()){const n=i.get(s);if(n==null)continue;const{score:o,terms:r,match:c}=t.get(s);nt(n.terms,r),e.set(s,{score:n.score+o,terms:n.terms,match:Object.assign(n.match,c)})}return e},[Ft]:(i,t)=>{for(const e of t.keys())i.delete(e);return i}},Mt={k:1.2,b:.7,d:.5},Lt=(i,t,e,s,n,o)=>{const{k:r,b:c,d:u}=o;return Math.log(1+(e-t+.5)/(t+.5))*(u+i*(r+1)/(i+r*(1-c+c*s/n)))},Tt=i=>(t,e,s)=>{const n=typeof i.fuzzy=="function"?i.fuzzy(t,e,s):i.fuzzy||!1,o=typeof i.prefix=="function"?i.prefix(t,e,s):i.prefix===!0,r=typeof i.boostTerm=="function"?i.boostTerm(t,e,s):1;return{term:t,fuzzy:n,prefix:o,termBoost:r}},U={idField:"id",extractField:(i,t)=>i[t],tokenize:i=>i.split(At),processTerm:i=>i.toLowerCase(),fields:void 0,searchOptions:void 0,storeFields:[],logger:(i,t)=>{typeof(console==null?void 0:console[i])=="function"&&console[i](t)},autoVacuum:!0},st={combineWith:Y,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:Mt},jt={combineWith:mt,prefix:(i,t,e)=>t===e.length-1},q={batchSize:1e3,batchWait:10},K={minDirtFactor:.1,minDirtCount:20},Q=Object.assign(Object.assign({},q),K),Et=(i,t)=>{i.includes(t)||i.push(t)},nt=(i,t)=>{for(const e of t)i.includes(e)||i.push(e)},it=({score:i},{score:t})=>t-i,ot=()=>new Map,T=i=>{const t=new Map;for(const e of Object.keys(i))t.set(parseInt(e,10),i[e]);return t},j=i=>E(void 0,void 0,void 0,function*(){const t=new Map;let e=0;for(const s of Object.keys(i))t.set(parseInt(s,10),i[s]),++e%1e3===0&&(yield gt(0));return t}),gt=i=>new Promise(t=>setTimeout(t,i)),At=/[\n\r\p{Z}\p{P}]+/u,Dt={class:"search"},Rt={key:1,class:"search-results"},Nt=["onClick"],$t={__name:"Search",setup(i){const t=L(!1),e=L(!1),s=L(null),n=L(null),o=_t("show-more"),r=async()=>{if(s.value){const{data:d}=await kt("search",()=>zt("blog")),a=new C({fields:["title","content"],storeFields:["title","content"],searchOptions:{prefix:!0,fuzzy:.2}});a.addAll(et(d.value));const h=yt(()=>a.search(et(s)));n.value=h.value,s.value=null,t.value=!1,e.value=!0}},c=d=>{o.value[d].style.height==="auto"?o.value[d].style.height="45px":o.value[d].style.height="auto"},u=d=>d.split("/").reduce((l,f,g)=>(g===1?l.year=f:g===2?l.month=f:g===3?l.day=f:g>3&&(l.slug=(l.slug||"")+(l.slug?"/":"")+f),l),{});return(d,a)=>{const h=rt;return S(),x(X,null,[p("li",Dt,[O(vt,null,{default:V(()=>[b(t)?(S(),x("form",{key:0,onSubmit:$(r,["prevent"]),class:"search-form"},[at(p("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>pt(s)?s.value=l:null),placeholder:"Search for posts..."},null,512),[[wt,b(s)]])],32)):P("",!0)]),_:1}),p("a",{onClick:a[1]||(a[1]=l=>t.value=!b(t)),title:"Search for posts",class:"search-button"},a[5]||(a[5]=[Z('<svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" transform="rotate(0)" data-v-d9b17b41><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-d9b17b41></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-d9b17b41></g><g id="SVGRepo_iconCarrier" data-v-d9b17b41><path d="M11 6C13.7614 6 16 8.23858 16 11M16.6588 16.6549L21 21M19 11C19 15.4183 15.4183 19 11 19C6.58172 19 3 15.4183 3 11C3 6.58172 6.58172 3 11 3C15.4183 3 19 6.58172 19 11Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-d9b17b41></path></g></svg>',1)]))]),b(e)?(S(),x("a",{key:0,onClick:a[2]||(a[2]=l=>e.value=!b(e)),title:"Close",class:"close-search-results"},a[6]||(a[6]=[Z('<svg width="34px" height="34px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#5e5c64" data-v-d9b17b41><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-d9b17b41></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-d9b17b41></g><g id="SVGRepo_iconCarrier" data-v-d9b17b41><g clip-path="url(#clip0_429_11083)" data-v-d9b17b41><path d="M7 7.00006L17 17.0001M7 17.0001L17 7.00006" stroke="#5e5c64" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" data-v-d9b17b41></path></g> <defs data-v-d9b17b41><clipPath id="clip0_429_11083" data-v-d9b17b41><rect width="24" height="24" fill="white" data-v-d9b17b41></rect></clipPath></defs></g></svg>',1)]))):P("",!0),b(e)&&b(n)?(S(),x("div",Rt,[a[8]||(a[8]=p("h2",null,"Search results",-1)),(S(!0),x(X,null,bt(b(n),(l,f)=>(S(),x("div",{key:l.id,class:"search-results__post"},[O(h,{to:{name:"year-month-day-slug",params:u(l.id)},onClick:a[3]||(a[3]=$(g=>e.value=!b(e),["prevent"])),class:"search-results__post-title"},{default:V(()=>[A(tt(l.title),1)]),_:2},1032,["to"]),p("div",{ref_for:!0,ref:"show-more",class:"search-results__post-content"},[p("p",{onClick:g=>c(f)},tt(l.content),9,Nt),O(h,{to:{name:"year-month-day-slug",params:u(l.id)},onClick:a[4]||(a[4]=$(g=>e.value=!b(e),["prevent"])),class:"search-results__post-content-visit"},{default:V(()=>a[7]||(a[7]=[A(" Visit the post ")])),_:2},1032,["to"])],512)]))),128))])):P("",!0)],64)}}},Pt=ct($t,[["__scopeId","data-v-d9b17b41"]]),Wt={class:"landing-nav"},qt={__name:"Nav",setup(i){const t=St();return(e,s)=>{const n=rt,o=Pt;return S(),x("nav",null,[p("ul",Wt,[s[2]||(s[2]=p("li",null,[p("a",{class:"landing-nav__link",href:"/"},"Home")],-1)),s[3]||(s[3]=p("li",null,[p("a",{class:"landing-nav__link",href:"/#posts"},"Blog")],-1)),s[4]||(s[4]=p("li",null,[p("a",{class:"landing-nav__link",href:"#"},"About")],-1)),p("li",null,[O(n,{to:{name:"contact"},class:"landing-nav__link"},{default:V(()=>s[0]||(s[0]=[A(" Contact ")])),_:1})]),at(p("li",null,[O(n,{to:{name:"dashboard"},class:"landing-nav__link"},{default:V(()=>s[1]||(s[1]=[A(" Dashboard ")])),_:1})],512),[[xt,b(t).isAuthenticated&&b(t).userData.isAdmin]]),O(o)]),s[5]||(s[5]=p("input",{id:"toggle",type:"checkbox",checked:""},null,-1))])}}},Bt={};function Jt(i,t){return S(),x("footer",null,t[0]||(t[0]=[p("p",null,"Copy ©2025 PyPanta.",-1)]))}const Kt=ct(Bt,[["render",Jt]]);export{qt as _,Kt as a};
